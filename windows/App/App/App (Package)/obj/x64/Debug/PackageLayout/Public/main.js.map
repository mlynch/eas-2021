{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AAC8C;AACtB;AAEjE,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,YAAY,EAAE,GAAG,EAAE,CAAC,oKAAkC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC;QAClF,WAAW,EAAE,CAAC,0EAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,UAAU;QAChB,YAAY,EAAE,GAAG,EAAE,CAAC,+SAA0C,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,kBAAkB,CAAC;QAC/F,WAAW,EAAE,CAAC,0EAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CAAC,iRAAwC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;QAC5F,WAAW,EAAE,CAAC,0EAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,YAAY;QAClB,YAAY,EAAE,GAAG,EAAE,CAAC,uSAAmD,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,mBAAmB,CAAC;QACzG,WAAW,EAAE,CAAC,0EAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,OAAO;QACb,YAAY,EAAE,GAAG,EAAE,CAAC,wKAAoC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;KACvF;IACD;QACE,IAAI,EAAE,iBAAiB;QACvB,YAAY,EAAE,GAAG,EAAE,CAAC,gNAAwD,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC;KACpH;CACF,CAAC;AAQK,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;;AAAhB,gBAAgB;IAN5B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,iEAAoB,CAAC,MAAM,EAAE,EAAE,kBAAkB,EAAE,8DAAiB,EAAE,CAAC;SACxE;QACD,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,gBAAgB;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzCqB;AACT;AACiC;AAChC;AACc;AAOjD,IAAM,YAAY,GAAlB,MAAM,YAAY;IACvB,YACU,IAA2B,EAC3B,MAAc,EACd,YAA0B,EAC1B,QAAkB,EAClB,MAAc;QAJd,SAAI,GAAJ,IAAI,CAAuB;QAC3B,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,WAAM,GAAN,MAAM,CAAQ;QACtB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE;YAC7B,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACzD,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,kGAAkG;QAC7G,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,aAAa;;QACnB,CAAC;KAAA;IAEO,YAAY;QAClB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE;YACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC;IAEa,SAAS;;;YACrB,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACnC,kEAAkE;gBAClE,oEAAoE;gBACpE,uDAAuD;gBACvD,OAAO,CAAC,GAAG,CAAC,yCAAyC,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACpF,OAAO;aACR;YACD,IAAI;gBACF,yEAAyE;gBACzE,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;gBAC7C,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;gBACxD,IAAI,CAAC,aAAa,EAAE;oBAClB,IAAI,CAAC,YAAY,EAAE,CAAC;iBACrB;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,WAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO,0CAAE,QAAQ,CAAC,mBAAmB,CAAC,EAAE;oBACjD,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;iBACpB;qBAAM;oBACL,uDAAuD;oBACvD,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;oBAChC,IAAI,CAAC,YAAY,EAAE,CAAC;iBACrB;aACF;;KACF;;;;;;;;;AAjDU,YAAY;IALxB,wDAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,qEAAiC;;KAElC,CAAC;GACW,YAAY;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACXiC;AACA;AACL;AAEY;AAElB;AACS;AACS;AACT;AAExD,MAAM,cAAc,GAClB,CAAC,YAA0B,EAAyB,EAAE,CACtD,GAAS,EAAE,yFACT,aAAM,YAAY,CAAC,IAAI,EAAE,KAAC;AAWvB,IAAM,SAAS,GAAf,MAAM,SAAS;;AAAT,SAAS;IATrB,uDAAQ,CAAC;QACN,YAAY,EAAE,CAAC,wDAAY,CAAC;QAC5B,OAAO,EAAE,CAAC,oEAAa,EAAE,+DAAmB,EAAE,EAAE,iEAAgB,CAAC;QACjE,SAAS,EAAE;YACP,EAAE,OAAO,EAAE,+DAAkB,EAAE,QAAQ,EAAE,8DAAkB,EAAE;YAC7D,EAAE,OAAO,EAAE,0DAAe,EAAE,UAAU,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,iEAAY,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;YAC3F,0EAAgB;SAAC;QACrB,SAAS,EAAE,CAAC,wDAAY,CAAC;KAC5B,CAAC;GACW,SAAS;AAAA;;;;;;;;;;;;;;;;;;;;;;ACzBqB;AAEsB;AAClB;AACA;AAExC,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IACzB,YACY,WAAkC,EAClC,YAA0B,EAC1B,YAA0B;QAF1B,gBAAW,GAAX,WAAW,CAAuB;QAClC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,iBAAY,GAAZ,YAAY,CAAc;IAAI,CAAC;IACrC,WAAW;;YACb,IAAI,CAAC,OAAM,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,GAAE;gBAC3C,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;gBAC1B,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;aAChB;iBAAM;gBACH,OAAO,IAAI,CAAC;aACf;QACL,CAAC;KAAA;;;;;;;AAbQ,gBAAgB;IAD5B,yDAAU,EAAE;GACA,gBAAgB;AAAA;;;;;;;;;;;;;;;;;;;;;;ACNsB;AACA;AAE0C;AAC9C;AAKxC,IAAM,qBAAqB,GAA3B,MAAM,qBAAsB,SAAQ,6DAAS;IAGlD,YACU,MAAc,EACd,YAA0B;QAElC,KAAK,CAAC,6EAAsB,CAAC,CAAC;QAHtB,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAAc;QAGjC,MAAc,CAAC,SAAS,GAAG,IAAI,CAAC;IACnC,CAAC;IAED,qDAAqD;IACxC,WAAW;;;;;YACtB,MAAM,OAAM,mBAAmB,WAAE,CAAC;QACpC,CAAC;KAAA;IAEY,QAAQ;;YACnB,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE;gBACnB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC7B,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAID;;;;;;OAMG;IACI,WAAW,CAAC,KAAa;QAC9B,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,MAAM,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAC/D,MAAM,WAAW,GAAG,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACtE,MAAM,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1D,OAAO,IAAI,CAAC,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QAEb,OAAO,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IAAA,CAAC;IAGI,cAAc;;YAClB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QAC/B,CAAC;KAAA;;;;;;AA/CU,qBAAqB;IAHjC,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,qBAAqB;AAAA;;;;;;;;;;;;;;;;;;;;ACTiB;AACJ;AAKxC,IAAM,YAAY,GAAlB,MAAM,YAAY;IAEvB,YAAoB,aAA4B,EAAU,MAAc;QAApD,kBAAa,GAAb,aAAa,CAAe;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAI,CAAC;IAEtE,aAAa;QAClB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE;YACnB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,QAAQ;QACb,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE;YAEnB,mEAAmE;YACnE,2CAA2C;YAC3C,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACL,CAAC;;;;;;AAjBU,YAAY;IAHxB,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,YAAY;AAAA;;;;;;;;;;;;;;;;;;;;ACNkB;AAQI;AAKxC,IAAM,YAAY,GAAlB,MAAM,YAAY;IAErB,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAC9C,CAAC;IAEY,IAAI;;QAEjB,CAAC;KAAA;IAEY,KAAK;;QAClB,CAAC;KAAA;IAEY,GAAG,CAAC,GAAW,EAAE,KAAU;;QACxC,CAAC;KAAA;IAEY,GAAG,CAAC,GAAW;;YACxB,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC;QAC1B,CAAC;KAAA;;;;;AAjBQ,YAAY;IAHxB,yDAAU,CAAC;QACR,UAAU,EAAE,MAAM;KACrB,CAAC;GACW,YAAY;AAAA;;;;;;;;;;;;;;;;;;ACbzB,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAIzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEK,MAAM,sBAAsB,GAAqB;IACtD,qBAAqB;IACrB,UAAU,EAAE,OAAO;IACnB,2CAA2C;IAC3C,QAAQ,EAAE,KAAK;IACf,wCAAwC;IACxC,QAAQ,EAAE,sCAAsC;IAChD,qCAAqC;IACrC,uBAAuB;IACvB,YAAY,EAAE,2GAA2G;IACzH,sCAAsC;IACtC,WAAW,EAAE,4BAA4B;IACzC,iCAAiC;IACjC,KAAK,EAAE,6HAA6H;IACpI,uCAAuC;IACvC,SAAS,EAAE,4BAA4B;IACvC,uEAAuE;IACvE,uEAAuE;IACvE,wEAAwE;IACxE,uEAAuE;IACvE,wEAAwE;IACxE,4CAA4C;IAC5C,UAAU,EAAE,SAAS;IACrB,WAAW,EAAE,MAAM;CACpB,CAAC;AAEK,MAAM,mBAAmB,GAAqB;IACnD,qBAAqB;IACrB,UAAU,EAAE,OAAO;IACnB,2CAA2C;IAC3C,QAAQ,EAAE,KAAK;IACf,wCAAwC;IACxC,QAAQ,EAAE,sCAAsC;IAChD,qCAAqC;IACrC,uBAAuB;IACvB,YAAY,EAAE,2GAA2G;IACzH,sCAAsC;IACtC,WAAW,EAAE,sCAAsC;IACnD,iCAAiC;IACjC,KAAK,EAAE,6HAA6H;IACpI,uCAAuC;IACvC,SAAS,EAAE,6CAA6C;IACxD,uEAAuE;IACvE,uEAAuE;IACvE,wEAAwE;IACxE,uEAAuE;IACvE,wEAAwE;IACxE,4CAA4C;IAC5C,UAAU,EAAE,SAAS;IACrB,aAAa,EAAE,SAAS;IACxB,WAAW,EAAE,MAAM;IACnB,QAAQ,EAAE,OAAO;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;;;;;ACvEpB;AAC4B;AAE9B;AACY;AAEzD,IAAI,6EAAsB,EAAE;IAC1B,6DAAc,EAAE,CAAC;CAClB;AAED,yFAAsB,EAAE,CAAC,eAAe,CAAC,sDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;ACXlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/services/auth-guard.service.ts","./src/app/services/authentication.service.ts","./src/app/services/route.service.ts","./src/app/services/vault.service.ts","./src/environments/environment.ts","./src/main.ts","./node_modules/@ionic/core/dist/esm/ lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { PreloadAllModules, RouterModule, Routes, CanActivate } from '@angular/router';\nimport { AuthGuardService } from './services/auth-guard.service';\n\nconst routes: Routes = [\n  {\n    path: '',\n    loadChildren: () => import('./pages/tabs/tabs.module').then(m => m.TabsPageModule),\n    canActivate: [AuthGuardService]\n  },\n  {\n    path: 'sponsors',\n    loadChildren: () => import('./pages/sponsors/sponsors.module').then( m => m.SponsorsPageModule),\n    canActivate: [AuthGuardService]\n  },\n  {\n    path: 'profile',\n    loadChildren: () => import('./pages/profile/profile.module').then( m => m.ProfilePageModule),\n    canActivate: [AuthGuardService]\n  },\n  {\n    path: 'swag-modal',\n    loadChildren: () => import('./components/swag-modal/swag-modal.module').then( m => m.SwagModalPageModule),\n    canActivate: [AuthGuardService]\n  },\n  {\n    path: 'login',\n    loadChildren: () => import('./pages/login/login.module').then( m => m.LoginPageModule)\n  },\n  {\n    path: 'auth-transition',\n    loadChildren: () => import('./pages/auth-transition/auth-transition.module').then( m => m.AuthTransitionPageModule)\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, NgZone } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from './services/authentication.service';\nimport { Platform } from '@ionic/angular';\nimport { VaultService } from './services/vault.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html',\n  styleUrls: ['app.component.scss'],\n})\nexport class AppComponent {\n  constructor(\n    private auth: AuthenticationService,\n    private router: Router,\n    private vaultService: VaultService,\n    private platform: Platform,\n    private ngZone: NgZone) {\n    this.initializeApp();\n    platform.resume.subscribe(() => {\n      console.log('PlatformResult.checkAuth', this.router.url);\n      setTimeout(() => {\n        this.checkAuth();\n      }, 300); // This gives time for the vault to be locked because the vault uses lockAfterBackgrounded feature\n    });\n  }\n\n  async initializeApp() {\n  }\n\n  private routeToLogin() {\n    this.ngZone.run(() => {\n      this.router.navigate(['login']);\n    });\n  }\n\n  private async checkAuth() {\n    if (window.location.hash.length > 0) {\n      // When Auth Connect returns to the app it will load the app again\n      // We want it to load without checking authentication so that it can\n      // capture the token when auth-transition is routed to.\n      console.log('checkAuth().window.location.hash.length', window.location.hash.length);\n      return;\n    }\n    try {\n      // This will trigger a check of the vault and ensure we are authenticated\n      console.log('checkAuth().isAuthenticated()');\n      const authenticated = await this.auth.isAuthenticated();\n      if (!authenticated) {\n        this.routeToLogin();\n      }\n    } catch (error) {\n      if (error?.message?.includes('Not authenticated')) {\n        this.auth.logout();\n      } else {\n        // Any failure we'll clear the vault and route to login\n        await this.vaultService.clear();\n        this.routeToLogin();\n      }\n    }\n  }\n}\n","import { APP_INITIALIZER, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\n\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AuthGuardService } from './services/auth-guard.service';\nimport { VaultService } from './services/vault.service';\n\nconst appInitFactory =\n  (vaultService: VaultService): (() => Promise<void>) =>\n  async () =>\n    await vaultService.init();\n\n@NgModule({\n    declarations: [AppComponent],\n    imports: [BrowserModule, IonicModule.forRoot(), AppRoutingModule],\n    providers: [\n        { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n        { provide: APP_INITIALIZER, useFactory: appInitFactory, deps: [VaultService], multi: true },\n        AuthGuardService],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\nimport { AuthenticationService } from './authentication.service';\nimport { RouteService } from './route.service';\nimport { VaultService } from './vault.service';\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n    constructor(\n        private authService: AuthenticationService,\n        private routeService: RouteService,\n        private vaultService: VaultService) { }\n    async canActivate(): Promise<boolean> {\n        if (!await this.authService.isAuthenticated()) {\n            this.vaultService.clear();\n            this.routeService.returnToLogin();\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { IonicAuth } from '@ionic-enterprise/auth';\nimport { Platform } from '@ionic/angular';\nimport { nativeIonicAuthOptions, webIonicAuthOptions } from '../../environments/environment';\nimport { RouteService } from './route.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationService extends IonicAuth {\n  public authenticated: boolean;\n\n  constructor(\n    private ngZone: NgZone,\n    private routeService: RouteService,\n  ) {\n    super(nativeIonicAuthOptions);\n    (window as any).IonicAuth = this;\n  }\n\n  // Called as part of CURRENT implicit login flow only\n  public async handleLogin() {\n    await super.handleLoginCallback();\n  }\n\n  public async onLogout(): Promise<void> {\n    this.routeService.returnToLogin();\n    this.ngZone.run(() => {\n      this.authenticated = false;\n    });\n  }\n\n\n\n  /**\n   * This code will decode a JWT token and return the JSON payload\n   * You can use this get access to claims such as the users name\n   * or profile image (depending on the OIDC provider)\n   *\n   * @param token\n   */\n  public decodeToken(token: string) {\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const jsonPayload = decodeURIComponent(atob(base64).split('').map((c) => {\n      const v = ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n      return `%${v}`;\n    }).join(''));\n\n    return JSON.parse(jsonPayload);\n  };\n\n\n  async onLoginSuccess(): Promise<void> {\n    this.authenticated = true;\n    this.routeService.goToRoot();\n  }\n\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { NavController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RouteService {\n\n  constructor(private navController: NavController, private ngZone: NgZone) { }\n\n  public returnToLogin() {\n    this.ngZone.run(() => {\n      this.navController.navigateRoot('login', { animated: false });\n    });\n  }\n\n  public goToRoot() {\n    this.ngZone.run(() => {\n\n      // I've chosen to navigate to the root of the app without animation\n      // as the login window already animated out\n      this.navController.navigateRoot('/', { animated: false });\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Capacitor } from '@capacitor/core';\nimport {\n    BiometricSecurityStrength,\n    BrowserVault, Device, DeviceSecurityType,\n    IdentityVaultConfig, Vault, VaultError, VaultErrorCodes, VaultType\n} from '@ionic-enterprise/identity-vault';\nimport { AuthenticationService } from './authentication.service';\nimport { RouteService } from './route.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class VaultService {\n\n    constructor(private routeService: RouteService) {\n    }\n\n    public async init() {\n\n    }\n\n    public async clear() {\n    }\n\n    public async set(key: string, value: any) {\n    }\n\n    public async get(key: string): Promise<any> {\n        return { key: 'foo' };\n    }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nimport { IonicAuthOptions } from '@ionic-enterprise/auth';\n\nexport const environment = {\n  production: false\n};\n\nexport const nativeIonicAuthOptions: IonicAuthOptions = {\n  // The auth provider.\n  authConfig: 'azure',\n  // The platform which the app is running on\n  platform: 'web',\n  // client or application id for provider\n  clientID: '5a5ef942-0e44-46a8-bbac-6a8ba7654eb0',\n  // the discovery url for the provider\n  // OpenID configuration\n  discoveryUrl: 'https://ioniccs.b2clogin.com/ioniccs.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_SignUp',\n  // the URI to redirect to after log in\n  redirectUri: 'ionic.cs.appsummit://login',\n  // requested scopes from provider\n  scope: 'openid offline_access email profile https://ioniccs.onmicrosoft.com/5a5ef942-0e44-46a8-bbac-6a8ba7654eb0/user_impersonation',\n  // the URL to redirect to after log out\n  logoutUrl: 'ionic.cs.appsummit://login',\n  // The type of iOS webview to use. 'shared' will use a webview that can\n  // share session/cookies on iOS to provide SSO across multiple apps but\n  // will cause a prompt for the user which asks them to confirm they want\n  // to share site data with the app. 'private' uses a webview which will\n  // not prompt the user but will not be able to share session/cookie data\n  // either for true SSO across multiple apps.\n  iosWebView: 'private',\n  webAuthFlow: 'PKCE'\n};\n\nexport const webIonicAuthOptions: IonicAuthOptions = {\n  // The auth provider.\n  authConfig: 'azure',\n  // The platform which the app is running on\n  platform: 'web',\n  // client or application id for provider\n  clientID: '5a5ef942-0e44-46a8-bbac-6a8ba7654eb0',\n  // the discovery url for the provider\n  // OpenID configuration\n  discoveryUrl: 'https://ioniccs.b2clogin.com/ioniccs.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_SignUp',\n  // the URI to redirect to after log in\n  redirectUri: 'ionic.cs.appsummit://auth-transition',\n  // requested scopes from provider\n  scope: 'openid offline_access email profile https://ioniccs.onmicrosoft.com/5a5ef942-0e44-46a8-bbac-6a8ba7654eb0/user_impersonation',\n  // the URL to redirect to after log out\n  logoutUrl: 'ionic.cs.appsummit://auth-transition#logout',\n  // The type of iOS webview to use. 'shared' will use a webview that can\n  // share session/cookies on iOS to provide SSO across multiple apps but\n  // will cause a prompt for the user which asks them to confirm they want\n  // to share site data with the app. 'private' uses a webview which will\n  // not prompt the user but will not be able to share session/cookie data\n  // either for true SSO across multiple apps.\n  iosWebView: 'private',\n  implicitLogin: 'CURRENT',\n  webAuthFlow: 'PKCE',\n  logLevel: 'DEBUG'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","var map = {\n\t\"./ion-accordion_2.entry.js\": [\n\t\t79,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-accordion_2_entry_js\"\n\t],\n\t\"./ion-action-sheet.entry.js\": [\n\t\t5593,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-action-sheet_entry_js\"\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t3225,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-alert_entry_js\"\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t4812,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-app_8_entry_js\"\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t6655,\n\t\t\"node_modules_ionic_core_dist_esm_ion-avatar_3_entry_js\"\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t4856,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-back-button_entry_js\"\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t3059,\n\t\t\"node_modules_ionic_core_dist_esm_ion-backdrop_entry_js\"\n\t],\n\t\"./ion-breadcrumb_2.entry.js\": [\n\t\t8648,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-breadcrumb_2_entry_js\"\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t8308,\n\t\t\"node_modules_ionic_core_dist_esm_ion-button_2_entry_js\"\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t4690,\n\t\t\"node_modules_ionic_core_dist_esm_ion-card_5_entry_js\"\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t4090,\n\t\t\"node_modules_ionic_core_dist_esm_ion-checkbox_entry_js\"\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t6214,\n\t\t\"node_modules_ionic_core_dist_esm_ion-chip_entry_js\"\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t9447,\n\t\t\"node_modules_ionic_core_dist_esm_ion-col_3_entry_js\"\n\t],\n\t\"./ion-datetime-button.entry.js\": [\n\t\t7950,\n\t\t\"default-node_modules_ionic_core_dist_esm_data-cb72448c_js-node_modules_ionic_core_dist_esm_th-29e28e\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-datetime-button_entry_js\"\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t9689,\n\t\t\"default-node_modules_ionic_core_dist_esm_data-cb72448c_js-node_modules_ionic_core_dist_esm_th-29e28e\",\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-datetime_3_entry_js\"\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t8840,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-fab_3_entry_js\"\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t749,\n\t\t\"node_modules_ionic_core_dist_esm_ion-img_entry_js\"\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t9667,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-infinite-scroll_2_entry_js\"\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t3288,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-input_entry_js\"\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t5473,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-item-option_3_entry_js\"\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t3634,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-item_8_entry_js\"\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t2855,\n\t\t\"node_modules_ionic_core_dist_esm_ion-loading_entry_js\"\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t495,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-menu_3_entry_js\"\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t8737,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-modal_entry_js\"\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t9632,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-nav_2_entry_js\"\n\t],\n\t\"./ion-picker-column-internal.entry.js\": [\n\t\t4446,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-picker-column-internal_entry_js\"\n\t],\n\t\"./ion-picker-internal.entry.js\": [\n\t\t2275,\n\t\t\"node_modules_ionic_core_dist_esm_ion-picker-internal_entry_js\"\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t8050,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-popover_entry_js\"\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t8994,\n\t\t\"node_modules_ionic_core_dist_esm_ion-progress-bar_entry_js\"\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t3592,\n\t\t\"node_modules_ionic_core_dist_esm_ion-radio_2_entry_js\"\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t5454,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-range_entry_js\"\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t290,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-refresher_2_entry_js\"\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t2666,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js\"\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t4816,\n\t\t\"node_modules_ionic_core_dist_esm_ion-ripple-effect_entry_js\"\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t5534,\n\t\t\"node_modules_ionic_core_dist_esm_ion-route_4_entry_js\"\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t4902,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-searchbar_entry_js\"\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t1938,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-segment_2_entry_js\"\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t8179,\n\t\t\"node_modules_ionic_core_dist_esm_ion-select_3_entry_js\"\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t668,\n\t\t\"node_modules_ionic_core_dist_esm_ion-slide_2_entry_js\"\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t1624,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-spinner_entry_js\"\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t9989,\n\t\t\"node_modules_ionic_core_dist_esm_ion-split-pane_entry_js\"\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t8902,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-tab-bar_2_entry_js\"\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t199,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-tab_2_entry_js\"\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t8395,\n\t\t\"node_modules_ionic_core_dist_esm_ion-text_entry_js\"\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t6357,\n\t\t\"node_modules_ionic_core_dist_esm_ion-textarea_entry_js\"\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t8268,\n\t\t\"node_modules_ionic_core_dist_esm_ion-toast_entry_js\"\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t5269,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-toggle_entry_js\"\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t2875,\n\t\t\"node_modules_ionic_core_dist_esm_ion-virtual-scroll_entry_js\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 863;\nmodule.exports = webpackAsyncContext;"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[9]}